# Настройка системы очереди постов (Post Counter)

## Что это?
Система отслеживает, какой промпт был использован в последний раз, чтобы каждый новый пост отличался от предыдущего.

## Как создать таблицу в YDB

Используйте YDB Web UI или YDB CLI. Выполните этот SQL запрос в вашей базе данных:

```sql
CREATE TABLE post_counter (
    key Utf8 NOT NULL,
    text_index Int32,
    image_index Int32,
    PRIMARY KEY (key)
);
```

## Где выполнить запрос?

1. **Через YDB Web UI:**
   - Откройте консоль Yandex Cloud
   - Перейдите в YDB → Ваша база
   - Откройте вкладку "Query" (Запрос)
   - Скопируйте и вставьте SQL выше
   - Нажмите "Execute"

2. **Через YDB CLI:**
   ```bash
   ydb -e grpcs://ydb.serverless.yandexcloud.net:2135 \
       -d /ru-central1/b1your_folder_id/yourdb_id \
       scripting execute -f - <<'EOF'
   CREATE TABLE post_counter (
       key Utf8 NOT NULL,
       text_index Int32,
       image_index Int32,
       PRIMARY KEY (key)
   );
   EOF
   ```

## Важно!
- Если таблица не создана, система всё равно будет работать, но будет использовать fallback на основе времени
- С таблицей работает гарантированно последовательно (пост 1, 2, 3, ... 8, затем снова 1)

## Как это работает?

- **8 тем для текста** - каждый пост разная тема
- **8 тем для изображений** - каждое изображение уникально
- **Циклическое повторение** - после 8-го поста снова начинается с 1-го

Примеры тем:
- "Почему сайт важен для бизнеса в 2026"
- "Типичные ошибки при создании сайта"  
- "Как дизайн влияет на продажи"
- "Тренды веб-дизайна 2025-2026"
- И т.д.
